// RUN: rm -rf %t && mkdir -p %t/bin
// RUN: printf 'module top(input logic clk_a, input logic clk_b, input logic a, input logic b);\n  assert property (@(posedge clk_a) a);\n  assert property (@(posedge clk_b) b);\nendmodule\n' > %t/multiclock_metadata_stdout_case.sv
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\ncat <<\"MLIR\"\nmodule {\n  hw.module @top(in %clk_a : i1, in %clk_b : i1, in %a : i1, in %b : i1) {\n    %c1 = hw.constant true\n    verif.assert %c1 : i1\n    hw.output\n  }\n}\nMLIR\n' > %t/bin/circt-verilog
// RUN: chmod +x %t/bin/circt-verilog
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\nallow=0\nfor a in \"$@\"; do\n  [[ \"$a\" == \"--allow-multi-clock\" ]] && allow=1\ndone\nif [[ \"$allow\" != \"1\" ]]; then\n  echo \"error: multi-clock BMC requires bmc_reg_clocks\"\n  exit 1\nfi\necho \"Bound reached with no violations!\"\nexit 0\n' > %t/bin/circt-bmc
// RUN: chmod +x %t/bin/circt-bmc
// RUN: env CIRCT_VERILOG=%t/bin/circt-verilog CIRCT_BMC=%t/bin/circt-bmc \
// RUN:   Z3_LIB=/dev/null EXPECT_FILE=/dev/null XFAIL_FILE=/dev/null \
// RUN:   BMC_SMOKE_ONLY=0 DISABLE_UVM_AUTO_INCLUDE=1 SKIP_VHDL=0 \
// RUN:   SKIP_FAIL_WITHOUT_MACRO=1 TEST_FILTER='multiclock_metadata_stdout_case' \
// RUN:   %S/../../utils/run_yosys_sva_circt_bmc.sh %t > %t/out.log
// RUN: FileCheck %s < %t/out.log
//
// CHECK: PASS(pass): multiclock_metadata_stdout_case
// CHECK: SKIP(fail-no-macro): multiclock_metadata_stdout_case
// CHECK: yosys SVA summary: 1 tests, failures=0, xfail=0, xpass=0, skipped=0
