// RUN: rm -rf %t && mkdir -p %t/proj/out/matrix/lane1
// RUN: printf 'total_mutants\t2\nrelevant_mutants\t2\ndetected_mutants\t1\npropagated_not_detected_mutants\t1\nnot_propagated_mutants\t0\nnot_activated_mutants\t0\nerrors\t0\nglobal_filter_timeout_mutants\t0\nglobal_filter_lec_unknown_mutants\t0\nglobal_filter_bmc_unknown_mutants\t0\n' > %t/proj/out/matrix/lane1/metrics.tsv
// RUN: printf 'lane_id\tstatus\texit_code\tcoverage_percent\truntime_ns\tgate_status\tlane_dir\tmetrics_file\tsummary_json\tprequalify_summary_present\tprequalify_pair_file\tprequalify_log_file\tprequalify_total_mutants\tprequalify_not_propagated_mutants\tprequalify_propagated_mutants\tprequalify_create_mutated_error_mutants\tprequalify_probe_error_mutants\tprequalify_cmd_token_not_propagated_mutants\tprequalify_cmd_token_propagated_mutants\tprequalify_cmd_rc_not_propagated_mutants\tprequalify_cmd_rc_propagated_mutants\tprequalify_cmd_timeout_propagated_mutants\tprequalify_cmd_error_mutants\nlane1\tPASS\t0\t50.00\t1000\tPASS\t%t/proj/out/matrix/lane1\t%t/proj/out/matrix/lane1/metrics.tsv\t-\t1\t%t/proj/out/matrix/lane1/native_global_filter_prequalify.tsv\t%t/proj/out/matrix/lane1/native_global_filter_prequalify.log\t2\t1\t1\t0\t0\t0\t0\t0\t0\t0\t0\n' > %t/proj/out/matrix/results.tsv
// RUN: printf 'lane_id\tpair_file\tlog_file\thas_summary\tprequalify_total_mutants\tprequalify_not_propagated_mutants\tprequalify_propagated_mutants\tprequalify_create_mutated_error_mutants\tprequalify_probe_error_mutants\tprequalify_cmd_token_not_propagated_mutants\tprequalify_cmd_token_propagated_mutants\tprequalify_cmd_rc_not_propagated_mutants\tprequalify_cmd_rc_propagated_mutants\tprequalify_cmd_timeout_propagated_mutants\tprequalify_cmd_error_mutants\nlane1\t%t/proj/out/matrix/lane1/native_global_filter_prequalify.tsv\t%t/proj/out/matrix/lane1/native_global_filter_prequalify.log\t1\t2\t1\t1\t0\t0\t0\t0\t0\t0\t0\t0\n' > %t/proj/out/matrix/native_matrix_prequalify_summary.tsv
// RUN: circt-mut report --project-dir %t/proj --mode matrix --policy-profile formal-regression-matrix-native-lifecycle-strict > %t/out.txt
// RUN: FileCheck %s < %t/out.txt

// CHECK-DAG: policy.profile_1{{[[:space:]]}}formal-regression-matrix-native-lifecycle-strict
// CHECK-DAG: matrix.results_metrics_file_column_present{{[[:space:]]}}1
// CHECK-DAG: matrix.results_metrics_file_fallback_lanes{{[[:space:]]}}0
// CHECK-DAG: matrix.runtime_summary_present{{[[:space:]]}}1
// CHECK-DAG: matrix.native_prequalify_summary_file_exists{{[[:space:]]}}1
// CHECK-DAG: matrix.prequalify_results_columns_present{{[[:space:]]}}1
// CHECK-DAG: value_gate.status{{[[:space:]]}}pass
