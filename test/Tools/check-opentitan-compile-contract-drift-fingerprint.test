// RUN: rm -rf %t
// RUN: mkdir -p %t
// RUN: printf '#opentitan_compile_contract_schema_version=1\ntarget_name\ttask\ttask_profile\ttask_known\tstopat_mode\tblackbox_policy\ttask_policy_fingerprint\tsetup_status\tcontract_fingerprint\tfile_count\tinclude_dir_count\tdefine_count\nfoo_fpv\tFpvDefault\tfpv_default\t1\tnone\tnone\t1111111111111111\tok\tdeadbeefdeadbeef\t10\t2\t1\n' > %t/base.tsv
// RUN: printf '#opentitan_compile_contract_schema_version=1\ntarget_name\ttask\ttask_profile\ttask_known\tstopat_mode\tblackbox_policy\ttask_policy_fingerprint\tsetup_status\tcontract_fingerprint\tfile_count\tinclude_dir_count\tdefine_count\nfoo_fpv\tFpvDefault\tfpv_default\t1\tnone\tnone\t1111111111111111\tok\tcafebabecafebabe\t10\t2\t1\n' > %t/current.tsv
// RUN: not python3 %S/../../utils/check_opentitan_compile_contract_drift.py --baseline %t/base.tsv --current %t/current.tsv --out-drift-tsv %t/drift.tsv 2>&1 | FileCheck %s --check-prefix=LOG
// RUN: FileCheck %s --check-prefix=DRIFT < %t/drift.tsv
//
// LOG: drift detected
// LOG: foo_fpv:contract_fingerprint
// DRIFT: foo_fpv{{[[:space:]]+}}contract_fingerprint{{[[:space:]]+}}deadbeefdeadbeef{{[[:space:]]+}}cafebabecafebabe
