// RUN: rm -rf %t
// RUN: mkdir -p %t/utils %t/sv-tests %t/verilator %t/yosys
// RUN: cp %S/../../utils/run_formal_all.sh %t/utils/run_formal_all.sh
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\n: \"${OUT:?}\"\nexpected=\"${EXPECTED_BMC_TIMEOUT_SECS:-}\"\nactual=\"${CIRCT_TIMEOUT_SECS:-}\"\nif [[ \"$actual\" != \"$expected\" ]]; then\n  echo \"unexpected BMC CIRCT_TIMEOUT_SECS: expected=$expected actual=$actual\" >&2\n  exit 1\nfi\nprintf \"PASS\\tbmc_timeout_case\\t/tests/bmc_timeout_case.sv\\n\" > \"$OUT\"\necho \"sv-tests SVA summary: total=1 pass=1 fail=0 xfail=0 xpass=0 error=0 skip=0 unknown=0 timeout=0\"\n' > %t/utils/run_sv_tests_circt_bmc.sh
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\n: \"${OUT:?}\"\nexpected=\"${EXPECTED_LEC_TIMEOUT_SECS:-}\"\nactual=\"${CIRCT_TIMEOUT_SECS:-}\"\nif [[ \"$actual\" != \"$expected\" ]]; then\n  echo \"unexpected LEC CIRCT_TIMEOUT_SECS: expected=$expected actual=$actual\" >&2\n  exit 1\nfi\nprintf \"PASS\\tlec_timeout_case\\t/tests/lec_timeout_case.sv\\tsv-tests\\tLEC\\tEQ\\n\" > \"$OUT\"\necho \"sv-tests LEC summary: total=1 pass=1 fail=0 error=0 skip=0\"\n' > %t/utils/run_sv_tests_circt_lec.sh
// RUN: chmod +x %t/utils/run_formal_all.sh %t/utils/run_sv_tests_circt_bmc.sh %t/utils/run_sv_tests_circt_lec.sh
// RUN: cd %t && EXPECTED_BMC_TIMEOUT_SECS=123 EXPECTED_LEC_TIMEOUT_SECS=456 utils/run_formal_all.sh --out-dir %t/out --sv-tests %t/sv-tests --verilator %t/verilator --yosys %t/yosys --include-lane-regex '^sv-tests/(BMC|LEC)$' --sv-tests-bmc-test-filter 'bmc_timeout_case' --sv-tests-lec-test-filter 'lec_timeout_case' --yosys-bmc-test-filter '.*' --yosys-lec-test-filter '.*' --verilator-bmc-test-filter '.*' --verilator-lec-test-filter '.*' --sv-tests-uvm-bmc-semantics-test-filter '.*' --bmc-timeout-secs 123 --lec-timeout-secs 456
// RUN: FileCheck %s --check-prefix=SUMMARY < %t/out/summary.tsv
//
// SUMMARY: sv-tests{{[[:space:]]+}}BMC{{[[:space:]]+}}1{{[[:space:]]+}}1{{[[:space:]]+}}0
// SUMMARY: sv-tests{{[[:space:]]+}}LEC{{[[:space:]]+}}1{{[[:space:]]+}}1{{[[:space:]]+}}0
