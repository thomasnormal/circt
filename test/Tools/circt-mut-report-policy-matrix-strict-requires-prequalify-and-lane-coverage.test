// RUN: rm -rf %t && mkdir -p %t/proj/out/matrix/lane1
// RUN: printf 'total_mutants\t5\nrelevant_mutants\t5\ndetected_mutants\t3\npropagated_not_detected_mutants\t2\nnot_propagated_mutants\t1\nnot_activated_mutants\t1\nerrors\t0\nglobal_filter_timeout_mutants\t0\nglobal_filter_lec_unknown_mutants\t0\nglobal_filter_bmc_unknown_mutants\t0\n' > %t/proj/out/matrix/lane1/metrics.tsv
// RUN: printf 'lane_id\tstatus\texit_code\tcoverage_percent\tgate_status\tlane_dir\tmetrics_file\tsummary_json\tgenerated_mutations_cache_status\tgenerated_mutations_cache_hit\tgenerated_mutations_cache_miss\tgenerated_mutations_cache_saved_runtime_ns\tgenerated_mutations_cache_lock_wait_ns\tgenerated_mutations_cache_lock_contended\tconfig_error_code\tconfig_error_reason\nlane1\tPASS\t0\t60.00\tPASS\t%t/proj/out/matrix/lane1\t%t/proj/out/matrix/lane1/metrics.tsv\t-\tdisabled\t0\t0\t0\t0\t0\t-\t-\n' > %t/proj/out/matrix/results.tsv
// RUN: not circt-mut report --project-dir %t/proj --mode matrix --policy-profile formal-regression-matrix-strict > %t/out.txt
// RUN: FileCheck %s < %t/out.txt

// CHECK-DAG: policy.profile_1{{[[:space:]]}}formal-regression-matrix-strict
// CHECK-DAG: matrix.prequalify_drift_comparable{{[[:space:]]}}0
// CHECK-DAG: matrix.prequalify_drift_lane_rows_compared{{[[:space:]]}}0
// CHECK-DAG: value_gate.status{{[[:space:]]}}fail
// CHECK: matrix.prequalify_drift_comparable value=0.00 < 1.00
