// RUN: rm -rf %t && mkdir -p %t/prefix/bin %t/prefix/share/circt/utils
// RUN: cp "$(command -v circt-mut)" %t/prefix/bin/circt-mut
// RUN: chmod +x %t/prefix/bin/circt-mut
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\n' > %t/prefix/bin/z3
// RUN: chmod +x %t/prefix/bin/z3
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\nfor a in "$@"; do\n  echo "ARG:$a"\ndone\n' > %t/prefix/share/circt/utils/run_mutation_matrix.sh
// RUN: chmod +x %t/prefix/share/circt/utils/run_mutation_matrix.sh
// RUN: PATH="%t/prefix/bin:/usr/bin:/bin" %t/prefix/bin/circt-mut matrix --default-formal-global-propagate-z3 z3 --default-formal-global-propagate-bmc-z3 z3 > %t/out.txt
// RUN: FileCheck %s < %t/out.txt
//
// CHECK: ARG:--default-formal-global-propagate-z3
// CHECK-NEXT: ARG:[[Z3:.*prefix/bin/z3]]
// CHECK: ARG:--default-formal-global-propagate-bmc-z3
// CHECK-NEXT: ARG:[[Z3]]
