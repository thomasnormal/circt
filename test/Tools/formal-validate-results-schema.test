// RUN: mkdir -p %t
// RUN: printf '{"schema_version":1,"suite":"sv-tests","mode":"BMC","case_id":"case_pass","case_path":"/tmp/case_pass.sv","status":"PASS","reason_code":"","stage":"result","solver":"z3","solver_time_ms":10,"frontend_time_ms":20,"log_path":"","artifact_dir":""}\n{"schema_version":1,"suite":"opentitan","mode":"LEC","case_id":"case_timeout","case_path":"/tmp/case_timeout.sv","status":"TIMEOUT","reason_code":"SOLVER_COMMAND_TIMEOUT","stage":"solver","solver":"z3","solver_time_ms":200,"frontend_time_ms":5,"log_path":"","artifact_dir":""}\n' > %t/valid.jsonl
// RUN: python3 %S/../../utils/formal/validate_formal_results_schema.py --jsonl %t/valid.jsonl --summary-json %t/summary.json
// RUN: FileCheck %s --check-prefix=VALID < %t/summary.json
// RUN: printf '{"schema_version":1,"suite":"sv-tests","mode":"BMC","case_id":"case_bad","case_path":"/tmp/case_bad.sv","status":"FAIL","reason_code":"","stage":"result","solver":"z3","solver_time_ms":0,"frontend_time_ms":0,"log_path":"","artifact_dir":""}\n' > %t/invalid.jsonl
// RUN: not python3 %S/../../utils/formal/validate_formal_results_schema.py --jsonl %t/invalid.jsonl
//
// VALID: "rows": 2
// VALID: "status_counts": {
// VALID: "PASS": 1
// VALID: "TIMEOUT": 1
