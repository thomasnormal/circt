// RUN: rm -rf %t
// RUN: mkdir -p %t
// RUN: printf '#!/usr/bin/env bash\nexit 0\n' > %t/fake-circt-a.sh
// RUN: chmod +x %t/fake-circt-a.sh
// RUN: printf '#!/usr/bin/env bash\nexit 0\n' > %t/fake-circt-b.sh
// RUN: chmod +x %t/fake-circt-b.sh
// RUN: printf 'dup_adapter\tcirct\t%t/fake-circt-a.sh\n' > %t/catalog.tsv
// RUN: printf 'dup_adapter\tcirct\t%t/fake-circt-b.sh\n' >> %t/catalog.tsv
// RUN: printf 'suite_a\tsmoke\t-\t-\t%t/suite-root\tdup_adapter\t-\t-\n' > %t/manifest.tsv

// RUN: not %S/../../utils/run_regression_unified.sh --manifest %t/manifest.tsv --adapter-catalog %t/catalog.tsv --profile smoke --engine circt --out-dir %t/out 2>&1 | FileCheck %s

// CHECK: duplicate adapter entries in catalog: adapter_id=dup_adapter engine=circt count=2
