// RUN: rm -rf %t && mkdir -p %t/proj %t/scripts
// RUN: printf '#!/usr/bin/env bash\nset -euo pipefail\necho SCRIPT:run_mutation_cover.sh\nfor a in "$@"; do echo ARG:$a; done\n' > %t/scripts/run_mutation_cover.sh
// RUN: chmod +x %t/scripts/run_mutation_cover.sh
// RUN: printf '#!/usr/bin/env bash\nexit 0\n' > %t/scripts/fake-yosys.sh
// RUN: chmod +x %t/scripts/fake-yosys.sh
// RUN: printf '[cover]\ndesign = "d.il"\ngenerate_mutations = 42\nmutations_modes = "arith,control"\nmutations_seed = 7\nmutations_yosys = "%t/scripts/fake-yosys.sh"\nmutations_profiles = "arith-depth"\ntests_manifest = "t.tsv"\nwork_dir = "out/cover"\n' > %t/proj/circt-mut.toml
// RUN: env CIRCT_MUT_SCRIPTS_DIR=%t/scripts circt-mut run --project-dir %t/proj --mode cover > %t/out.txt
// RUN: FileCheck %s < %t/out.txt
//
// CHECK: SCRIPT:run_mutation_cover.sh
// CHECK-DAG: ARG:--design
// CHECK-DAG: ARG:{{.*}}/d.il
// CHECK-DAG: ARG:--tests-manifest
// CHECK-DAG: ARG:{{.*}}/t.tsv
// CHECK-DAG: ARG:--work-dir
// CHECK-DAG: ARG:{{.*}}/out/cover
// CHECK-DAG: ARG:--generate-mutations
// CHECK-DAG: ARG:42
// CHECK-DAG: ARG:--mutations-modes
// CHECK-DAG: ARG:arith,control
// CHECK-DAG: ARG:--mutations-seed
// CHECK-DAG: ARG:7
// CHECK-DAG: ARG:--mutations-yosys
// CHECK-DAG: ARG:{{.*}}/scripts/fake-yosys.sh
// CHECK-DAG: ARG:--mutations-profiles
// CHECK-DAG: ARG:arith-depth
// CHECK-NOT: ARG:--mutations-file
