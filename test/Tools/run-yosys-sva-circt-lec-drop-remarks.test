// RUN: rm -rf %t && mkdir -p %t
// RUN: printf 'module top(input logic clk); logic a; assign a = 1'\''b1; assert property (@(posedge clk) a); endmodule\n' > %t/simple.sv
// RUN: printf '#!/usr/bin/env bash\necho \"// dummy mlir\"\necho \"warning: unsupported construct will be dropped during lowering\" >&2\n' > %t/fake-verilog.sh
// RUN: printf '#!/usr/bin/env bash\necho \"module @top {}\"\n' > %t/fake-opt.sh
// RUN: printf '#!/usr/bin/env bash\necho \"LEC_RESULT=EQ\"\necho \"LEC_DIAG=XPROP_ONLY\"\n' > %t/fake-lec.sh
// RUN: chmod +x %t/fake-verilog.sh %t/fake-opt.sh %t/fake-lec.sh
// RUN: env CIRCT_VERILOG=%t/fake-verilog.sh CIRCT_OPT=%t/fake-opt.sh CIRCT_LEC=%t/fake-lec.sh \
// RUN:   Z3_LIB=/dev/null LEC_SMOKE_ONLY=1 DISABLE_UVM_AUTO_INCLUDE=1 SKIP_VHDL=0 \
// RUN:   OUT=%t/results.tsv \
// RUN:   LEC_DROP_REMARK_CASES_OUT=%t/drop.tsv LEC_DROP_REMARK_REASONS_OUT=%t/reasons.tsv \
// RUN:   %S/../../utils/run_yosys_sva_circt_lec.sh %t > %t/out.log
// RUN: FileCheck %s --check-prefix=SUMMARY < %t/out.log
// RUN: FileCheck %s --check-prefix=DROPPED < %t/drop.tsv
// RUN: FileCheck %s --check-prefix=REASON < %t/reasons.tsv
// RUN: FileCheck %s --check-prefix=RESULTS < %t/results.tsv
//
// SUMMARY: PASS: simple
// SUMMARY: yosys LEC summary: total=1 pass=1 fail=0 error=0 skip=0
// SUMMARY: yosys LEC dropped-syntax summary: drop_remark_cases=1
// DROPPED: simple{{[[:space:]]+}}{{.*}}simple.sv
// REASON: simple{{[[:space:]]+}}{{.*}}simple.sv{{[[:space:]]+}}unsupported construct will be dropped during lowering
// RESULTS: PASS{{[[:space:]]+}}simple{{[[:space:]]+}}{{.*}}simple.sv{{[[:space:]]+}}yosys/tests/sva{{[[:space:]]+}}LEC{{[[:space:]]+}}XPROP_ONLY
