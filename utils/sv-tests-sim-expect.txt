# sv-tests simulation expectations.
# Format: test_name<TAB>mode<TAB>reason
# mode: compile-only | xfail | skip

# UVM testbench tests — compile-only because each UVM test takes ~3min to compile
# + >10min to simulate (400K-line MLIR with full UVM library).
# Set VERIFY_UVM_COMPILE=1 to actually compile these (default: fast-skipped).
uvm_agent_active	compile-only	UVM testbench: resolved with resolveDrivers fix + VIF shadow signals
uvm_agent_env	compile-only	UVM testbench: resolved with resolveSignalId cast+probe tracing
uvm_agent_passive	compile-only	UVM testbench: resolved with resolveSignalId cast+probe tracing
uvm_monitor_env	compile-only	UVM testbench: resolved with resolveSignalId cast+probe tracing
uvm_scoreboard_env	compile-only	UVM testbench: analysis port connect/write interceptor
uvm_scoreboard_monitor_env	compile-only	UVM testbench: analysis port chain-following write dispatch
uvm_scoreboard_monitor_agent_env	compile-only	UVM testbench: analysis port chain-following write dispatch
uvm_driver_sequencer_env	compile-only	UVM testbench: native sequencer interface (start_item/finish_item/get)
top	compile-only	easyUVM full testbench: compile-only (10+ min simulation)
uvm_sequence	compile-only	UVM sequence testbench: compile-only (full UVM library)

# Ch18: UVM-module constraint/random tests — compile-only because each UVM test
# takes ~3min to compile + ~5min to simulate (400K-line MLIR with full UVM library).
# The same constraint logic is tested faster by the class-only auto-wrapped tests.
# Set VERIFY_UVM_COMPILE=1 to actually compile these (default: fast-skipped).
18.5.2--constraint-inheritance_1	compile-only	Constraint inheritance with override (UVM)
18.5.4--distribution_1	compile-only	Distribution constraints (UVM)
18.5.8.1--foreach-iterative-constraints_1	compile-only	Foreach iterative constraints (UVM)
18.5.8.2--array-reduction-iterative-constraints_1	compile-only	Array reduction constraints (UVM)
18.5.9--global-constraints_1	compile-only	Cross-object global constraints (UVM)
18.5.11--static-constraint-blocks_1	compile-only	Static constraint blocks (UVM)
18.5.12--functions-in-constraint_1	compile-only	Function calls in constraints (UVM)
18.5.14--soft-constraints_1	compile-only	Soft constraints (UVM)
18.5.14.1--soft-constraint-priorities_1	compile-only	Soft constraint priority resolution (UVM)
18.5.14.1--soft-constraint-priorities_4	compile-only	Inline soft constraint override (UVM)
18.5.14.2--discarding-soft-constraints_1	compile-only	Discarding soft constraints (UVM)
18.5.14.2--discarding-soft-constraints_3	compile-only	Discarding soft constraints (UVM)
18.5.14.2--discarding-soft-constraints_5	compile-only	Discarding soft constraints (UVM)
18.6.2--post-randomize_method_1	compile-only	post_randomize callback (UVM)
18.6.2--pre-randomize-method_1	compile-only	pre_randomize callback (UVM)
18.6.3--behavior-of-randomization-methods_2	compile-only	Infeasible constraint detection (UVM)
18.6.3--behavior-of-randomization-methods_3	compile-only	Infeasible constraint post_randomize (UVM)
18.7--in-line-constraints--randomize_0	compile-only	Inline constraint range extraction (UVM)
18.7--in-line-constraints--randomize_2	compile-only	Inline constraint range extraction (UVM)
18.7--in-line-constraints--randomize_4	compile-only	Inline constraint with variable select (UVM)
18.7--in-line-constraints--randomize_6	compile-only	Inline constraint with class variable (UVM)
18.7.1--local-scope-resolution_1	compile-only	Local scope resolution in constraints (UVM)
18.8--disabling-random-variables-with-rand_mode_0	compile-only	rand_mode disable (UVM)
18.8--disabling-random-variables-with-rand_mode_1	compile-only	rand_mode disable (UVM)
18.8--disabling-random-variables-with-rand_mode_2	compile-only	rand_mode disable (UVM)
18.8--disabling-random-variables-with-rand_mode_3	compile-only	static rand_mode shared across instances (UVM)
18.9--controlling-constraints-with-constraint_mode_0	compile-only	constraint_mode toggle (UVM)
18.11.1--in-line-constraint-checker_0	compile-only	Inline constraint checker (UVM)
18.11.1--in-line-constraint-checker_1	compile-only	Inline randc constraint checker (UVM)
18.11--in-line-random-variable-control_0	compile-only	Inline variable control (UVM)
18.11--in-line-random-variable-control_1	compile-only	Inline randc variable control (UVM)
18.13.3--srandom_0	compile-only	srandom seed reproducible (UVM)
18.13.4--get_randstate_0	compile-only	get_randstate returns state (UVM)
18.13.5--set_randstate_0	compile-only	set_randstate restore working (UVM)
18.14--random-stability_0	compile-only	Process random state saved/restored (UVM)
18.14--random-stability_1	compile-only	shuffle deterministic with seed (UVM)
18.14--random-stability_3	compile-only	randcase deterministic with state (UVM)
18.14.2--thread-stability_0	compile-only	Thread random state isolated (UVM)
18.14.3--object-stability_0	compile-only	Object random state seeded (UVM)
18.14.3--object-stability_1	compile-only	Same-seed objects producing same values (UVM)
18.15--manually-seeding-randomize_1	compile-only	Manual seed producing reproducible values (UVM)
18.5--constraint-blocks_1	compile-only	Constraint block execution (UVM)
18.5.1--explicit-external-constraint_2	compile-only	External constraint resolution (UVM)
18.5.1--implicit-external-constraint_2	compile-only	Implicit external constraint resolution (UVM)
18.5.2--pure-constraint_1	compile-only	Pure constraint override (UVM)
18.5.3--set-membership_1	compile-only	Set membership constraint (UVM)
18.5.5--uniqueness-constraints_1	compile-only	Uniqueness constraint (UVM)
18.5.6--implication_1	compile-only	Implication constraint (UVM)
18.5.7--if-else-constraints_4	compile-only	If-else constraint (UVM)
18.5.13--constraint-guards_1	compile-only	Constraint guard with null check (UVM)
18.5.14.1--soft-constraint-priorities_3	compile-only	Soft constraint priorities (UVM)
18.6.1--randomize-method_0	compile-only	Basic randomize method (UVM)
18.6.3--behavior-of-randomization-methods_1	compile-only	Randomization behavior check (UVM)
18.10--dynamic-constraint-modification_0	compile-only	Dynamic constraint modification (UVM)
18.12.1--adding-constraints-to-scope-variables_1	compile-only	Scope variable constraints (UVM)
18.12--randomization-of-scope-variables_1	compile-only	Scope variable randomization (UVM)
18.13.1--urandom_1	compile-only	$urandom in UVM context
18.13.1--urandom_3	compile-only	$urandom in UVM context
18.13.2--urandom_range_1	compile-only	$urandom_range in UVM context
18.13.2--urandom_range_2	compile-only	$urandom_range in UVM context
18.13.2--urandom_range_3	compile-only	$urandom_range in UVM context
18.14--random-stability_2	compile-only	Random stability deterministic (UVM)
18.14.2--thread-stability_1	compile-only	Thread stability deterministic (UVM)

# UVM testbench tests that now compile and pass
uvm_resource_db_read_by_name	compile-only	UVM resource_db read_by_name (slow init)
uvm_test_run_test	compile-only	UVM run_test (slow init)

# Ch16: SVA UVM tests — compile-only because UVM MLIR init takes >5 min per test.
# Concurrent assertions are not actively evaluated during simulation.
16.10--property-local-var-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.10--sequence-local-var-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.11--sequence-subroutine-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.12--property-interface-prec-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.12--property-interface-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.12--property-prec-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.12--property-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.13--sequence-multiclock-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.14--assume-property-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.15--property-iff-uvm-fail	skip	SVA UVM: should-fail assertion iff
16.15--property-iff-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.17--expect-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.2--assert0-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.2--assert-final-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.2--assert-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.2--assume-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.7--sequence-and-range-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.7--sequence-and-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.7--sequence-intersect-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.7--sequence-or-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.7--sequence-throughout-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.7--sequence-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.9--sequence-changed-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.9--sequence-fell-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.9--sequence-past-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.9--sequence-rose-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)
16.9--sequence-stable-uvm	compile-only	SVA UVM: compile-only (MLIR init >5min)

# Ch9: Event sequence controls not supported
9.4.3--event_sequence_controls	compile-only	Event sequence control not supported

# Ch9: Infinite loop tests (no $finish, run forever by design)
9.2.2.1--always	skip	Infinite loop: always #5 a = ~a with no $finish

# Should-fail tests: circt-verilog doesn't yet detect these errors
6.5--variable_mixed_assignments	skip	Should-fail: mixed procedural/continuous assignments
6.5--variable_multiple_assignments	skip	Should-fail: multiple continuous assignments
11.9--tagged_union_member_access_inv	skip	Should-fail: invalid tagged union member access
16.10--property-local-var-fail	skip	Should-fail: property local var error detection
16.10--sequence-local-var-fail	skip	Should-fail: sequence local var error detection
16.15--property-disable-iff-fail	skip	Should-fail: property disable iff error detection

# Ch18: Class-only tests (auto-wrapped by harness with class instantiation + randomize)
# These tests have no module; the harness generates a wrapper that creates the class,
# calls randomize(), and $finishes. No expect entry needed — they run as normal tests.

# Ch18: Virtual-only class tests (no instantiable class for auto-wrapper)
18.5.2--pure-constraint_3	skip	Virtual class only: no instantiable class for auto-wrapper

# Ch18: Should-fail class-only tests (circt-verilog doesn't detect these errors)
18.6.3--behavior-of-randomization-methods_4	skip	Should-fail: randomize() override detection
18.6.3--behavior-of-randomization-methods_5	skip	Should-fail: randomize() override detection

# Ch18: Should-fail tests that properly XFAIL (compilation correctly rejects them)
# No entries needed — they naturally become XFAIL via :should_fail_because: metadata

# UVM utility test: no top module
uvm_files	skip	No top module (utility file)

# Black-parrot tests: <unknown>:0: error: invalid expression in lowering
bp_default	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_1	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_1_cce_ucode	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_4	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_4_cce_ucode_cfg	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_unicore	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)

# math.ipowi: circt-sim doesn't register Math dialect (needed for ** operator)
11.4.3--binary_op_pow	xfail	circt-sim: math dialect not registered for math.ipowi
11.4.3--simple_exp_operator_sim	xfail	circt-sim: math dialect not registered for math.ipowi

# $*_gclk sampled value functions: now supported (a6dfbd598)

# scr1: uses $system (unsupported system call in tb/scr1_top_tb_runtests.sv)
scr1	xfail	Unsupported system call $system in testbench
