# sv-tests simulation expectations.
# Format: test_name<TAB>mode<TAB>reason
# mode: compile-only | xfail | skip

# UVM testbench tests — compile-only because each UVM test takes ~3min to compile
# + >10min to simulate (400K-line MLIR with full UVM library).
# Set VERIFY_UVM_COMPILE=1 to actually compile these (default: fast-skipped).
uvm_agent_active	compile-only	UVM testbench: resolved with resolveDrivers fix + VIF shadow signals
uvm_agent_env	compile-only	UVM testbench: resolved with resolveSignalId cast+probe tracing
uvm_agent_passive	compile-only	UVM testbench: resolved with resolveSignalId cast+probe tracing
uvm_monitor_env	compile-only	UVM testbench: resolved with resolveSignalId cast+probe tracing
uvm_scoreboard_env	compile-only	UVM testbench: analysis port connect/write interceptor
uvm_scoreboard_monitor_env	compile-only	UVM testbench: analysis port chain-following write dispatch
uvm_scoreboard_monitor_agent_env	compile-only	UVM testbench: analysis port chain-following write dispatch
uvm_driver_sequencer_env	compile-only	UVM testbench: native sequencer interface (start_item/finish_item/get)
top	compile-only	easyUVM full testbench: compile-only (10+ min simulation)
uvm_sequence	compile-only	UVM sequence testbench: compile-only (full UVM library)

# Ch18: UVM-module constraint/random tests now run in full simulation by
# default; the old compile-only overrides were removed after no-expect sweeps
# showed stable PASS results.

# UVM testbench tests that now compile and pass
uvm_resource_db_read_by_name	compile-only	UVM resource_db read_by_name (slow init)
uvm_test_run_test	compile-only	UVM run_test (slow init)

# Ch16: SVA UVM tests now run in full simulation by default.

# Ch9: Event sequence controls now run in full simulation (no expect entry).

# Ch9: Infinite loop tests (no $finish, run forever by design)
9.2.2.1--always	skip	Infinite loop: always #5 a = ~a with no $finish

# Should-fail tests detected via frontend analysis:
# 6.5--variable_mixed_assignments: correctly rejected (mixed procedural/continuous)
# 6.5--variable_multiple_assignments: correctly rejected (multiple continuous assigns)
# 11.9--tagged_union_member_access_inv: runtime invalid-member failure now
# emitted via tagged-union guard.

# Should-fail local-var SVA simulation tests now fail correctly via runtime
# evaluation and are handled as XFAIL by sv-tests metadata. No expect entries.

# Immediate assume smoke tests now run through full simulation (no expect
# entries needed):
#   - 16.2--assume
#   - 16.2--assume0
#   - 16.2--assume-final

# Ch18: Class-only tests (auto-wrapped by harness with class instantiation + randomize)
# These tests have no module; the harness generates a wrapper that creates the class,
# calls randomize(), and $finishes. No expect entry needed — they run as normal tests.

# Ch18: Virtual-only class tests (no instantiable class for auto-wrapper)
18.5.2--pure-constraint_3	skip	Virtual class only: no instantiable class for auto-wrapper

# Ch18: Should-fail tests that properly XFAIL (compilation correctly rejects them)
# No entries needed — they naturally become XFAIL via :should_fail_because: metadata

# UVM utility test: no top module
uvm_files	skip	No top module (utility file)

# Black-parrot tests: <unknown>:0: error: invalid expression in lowering
bp_default	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_1	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_1_cce_ucode	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_4	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_multicore_4_cce_ucode_cfg	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)
bp_unicore	xfail	Black-parrot: invalid expression in MLIR lowering (DynamicNotProcedural)

# math.ipowi: now supported (math::IPowIOp handler in interpreter)

# $*_gclk sampled value functions: now supported (a6dfbd598)

# scr1: $system now supported (SystemBIOp in Moore dialect)
